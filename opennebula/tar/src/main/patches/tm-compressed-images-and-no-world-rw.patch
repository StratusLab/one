diff --git a/src/mad/sh/scripts_common.sh b/src/mad/sh/scripts_common.sh
index 61ba330..7859832 100755
--- a/src/mad/sh/scripts_common.sh
+++ b/src/mad/sh/scripts_common.sh
@@ -34,6 +34,9 @@ SSH=/usr/bin/ssh
 SUDO=sudo
 WGET=wget
 READLINK=readlink
+CURL=/usr/bin/curl
+GUNZIP=/bin/gunzip
+BUNZIP2=/bin/bunzip2
 
 # Used for log messages
 SCRIPT_NAME=`basename $0`
@@ -147,3 +150,19 @@ function timeout_exec_and_log
         exit $CMD_CODE
     fi
 }
+
+function download_and_extract
+{
+    URL=$1
+    ARCHIVE=$2
+    EXTRACT_CMD=$3
+    HOST=$4
+
+    if [ "x$HOST" != "x" ]; then
+        SSH_CMD="$SSH $HOST"
+    fi
+
+    $SSH_CMD $CURL -k -o $ARCHIVE $URL
+    $SSH_CMD $EXTRACT_CMD $ARCHIVE
+}
+
diff --git a/src/tm_mad/ssh/tm_context.sh b/src/tm_mad/ssh/tm_context.sh
index f0f2f8f..9166e6b 100755
--- a/src/tm_mad/ssh/tm_context.sh
+++ b/src/tm_mad/ssh/tm_context.sh
@@ -69,6 +69,7 @@ done
 
 exec_and_log "$MKISOFS -o $TMP_DIR/$DST_FILE -J -R $ISO_DIR" \
     "Error creating iso fs"
+exec_and_log "chmod o-rwx $TMP_DIR/$DST_FILE"
 exec_and_log "$SCP $TMP_DIR/$DST_FILE $DST" \
     "Error copying $TMP_DIR/$DST_FILE to $DST"
 exec_and_log "rm -rf $TMP_DIR" \
diff --git a/src/tm_mad/ssh/tm_mkimage.sh b/src/tm_mad/ssh/tm_mkimage.sh
index 81ff20f..609e83b 100755
--- a/src/tm_mad/ssh/tm_mkimage.sh
+++ b/src/tm_mad/ssh/tm_mkimage.sh
@@ -38,4 +38,4 @@ exec_and_log "$SSH $DST_HOST $DD if=/dev/zero of=$DST_PATH bs=1 count=1 seek=${S
     "Could not create image $DST_PATH"
 exec_and_log "$SSH $DST_HOST $MKFS -t $FSTYPE -F $DST_PATH" \
     "Unable to create filesystem $FSTYPE in $DST_PATH"
-exec_and_log "$SSH $DST_HOST chmod a+rw $DST_PATH"
\ No newline at end of file
+exec_and_log "$SSH $DST_HOST chmod ug+rw,o-rwx $DST_PATH"
diff --git a/src/tm_mad/ssh/tm_mkswap.sh b/src/tm_mad/ssh/tm_mkswap.sh
index 6070513..27f56a5 100755
--- a/src/tm_mad/ssh/tm_mkswap.sh
+++ b/src/tm_mad/ssh/tm_mkswap.sh
@@ -41,5 +41,4 @@ log "Initializing swap space"
 exec_and_log "$SSH $DST_HOST $MKSWAP $DST_PATH" \
     "Could not create swap on $DST_PATH"
 
-exec_and_log "$SSH $DST_HOST chmod a+w $DST_PATH"
-
+exec_and_log "$SSH $DST_HOST chmod ug+w,o-rwx $DST_PATH"
